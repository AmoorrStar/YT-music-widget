<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Custom YouTube Playlist Widget</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="widget-container">
    <!-- Header Section -->
    <div id="now-playing">
      <img src="" alt="Thumbnail" />
      <div class="center-info">
        <p class="now-playing-text">
          Playing Now • <span id="total-duration">0:00</span>
        </p>
        <p class="song-title">Song Title</p>
      </div>

      <div class="controls">
        <button id="manage-api-button">Manage Data</button>
        <button id="loop-button" title="Loop (Off)">↻</button>
        <button id="shuffle-button" title="Shuffle">⇄</button>
        <button id="prev-button" title="Previous Song">|≪</button>
        <button id="play-pause-button" title="Play/Pause">▷</button>
        <button id="next-button" title="Next Song">≫|</button>
      </div>

      <input type="range" id="progress-bar" value="0" min="0" max="100" />
      <div id="slider-tooltip">0:00</div>
    </div>

    <!-- Playlist Container -->
    <div id="playlist"></div>

    <!-- Hidden YouTube Player -->
    <div id="player"></div>
  </div>

  <!-- Modal for managing API key & playlists -->
  <div id="manage-modal">
    <div id="manage-modal-content">
      <h2>Manage Your API & Playlists</h2>
      <div>
        <label for="apiKeyInput">API Key:</label>
        <input type="text" id="apiKeyInput" />
      </div>
      <div>
        <label for="playlistInput">Add Playlist ID:</label>
        <input type="text" id="playlistInput" />
        <button id="addPlaylistBtn">Add</button>
      </div>
      <ul id="playlistsList"></ul>
      <button id="saveChangesBtn">Save & Close</button>
    </div>
  </div>

  <!-- 1) Our main app logic (defines initGoogleAPI, onYouTubeIframeAPIReady, etc.) -->
  <script src="script.js"></script>

  <!-- 2) The Google API script with ?onload => calls initGoogleAPI() AFTER it loads -->
  <script src="https://apis.google.com/js/api.js?onload=initGoogleAPI"></script>

  <!-- 3) YouTube IFrame API script => calls onYouTubeIframeAPIReady() once loaded -->
  <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
